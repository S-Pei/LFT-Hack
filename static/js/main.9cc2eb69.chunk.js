(this["webpackJsonplobe-web-sample"]=this["webpackJsonplobe-web-sample"]||[]).push([[0],[,,,,,function(e,t,n){var c=n(21),i=["loadModel","disposeModel","predict"];e.exports=function(){var e=new Worker(n.p+"6571198f39ddfec43afb.worker.js",{name:"[hash].worker.js"});return c(e,i),e}},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(4),a=n.n(r),s=(n(10),n(2)),l=(n(11),n(0)),o=function(e){var t=e.additionalClassname,n=e.children,c="blur-container";return t&&(c+=" ".concat(t)),Object(l.jsx)("div",{className:c,children:n})};n(13);var u=function(e){var t=e.label,n=e.confidence;return e.top,Object(l.jsxs)("div",{className:"prediction-entry",children:[t,n?Object(l.jsx)("div",{className:"prediction-bar"+("Negative"===t?" prediction-green":"Null"===t?" prediction-yellow":" prediction-red"),style:{width:(100*n).toString()+"%"}}):null,Object(l.jsx)("div",{className:"number-label",children:n?n.toFixed(4).toString():null})]},t)};n(14);var d=function(e){var t,n=e.predictions,c=e.top,i=void 0===c?3:c;return n&&(t=Object.entries(n).sort((function(e,t){return t[1]-e[1]})).slice(0,i)),Object(l.jsx)("div",{id:"predictions",children:Object(l.jsx)(o,{additionalClassname:"prediction-container",children:t?t.map((function(e,t){var n=Object(s.a)(e,2),c=n[0],i=n[1];return Object(l.jsx)(u,{label:c,confidence:i,top:0===t},c)})):Object(l.jsx)(u,{label:"Loading..."})})})},j=(n(15),function(e){var t=e.onClick,n=e.setHover,c=e.children;return Object(l.jsx)("div",{onClick:t?function(){return t()}:void 0,onMouseEnter:n?function(){return n(!0)}:void 0,onMouseLeave:n?function(){return n(!1)}:void 0,children:Object(l.jsx)(o,{additionalClassname:"square-button",children:c})})}),f=n.p+"static/media/gallery.45752e9c.svg";n(16);var b=function(e){var t=e.setImageFile,n=e.imageFile,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){!n&&i.current&&(i.current.value="")}),[n,i]),Object(l.jsxs)("div",{id:"image-select-button",onClick:function(){i.current&&i.current.click()},children:[Object(l.jsx)(j,{children:Object(l.jsx)("img",{id:"gallery-icon",src:f,alt:"File Selector"})}),Object(l.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:function(e){var n=e.target.files;n&&n.length>0&&t(n[0])},style:{display:"none"}})]})},g=n.p+"static/media/close.b502d4ba.svg";n(17);var v=function(e){var t=e.setImageFile;return Object(l.jsx)("div",{id:"image-close-button",children:Object(l.jsx)(j,{onClick:function(){t(null)},children:Object(l.jsx)("img",{id:"close-icon",src:g,alt:"Close"})})})};n(18);var O=function(e){var t=e.predictCanvas,n=e.image,i=e.setImageFile,r=Object(c.useRef)(null),a=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=new FileReader;e.onload=function(e){var n=new Image;n.onload=function(){if(r.current){r.current.width=n.width,r.current.height=n.height;var e=r.current.getContext("2d");e&&(e.drawImage(n,0,0),t(r.current))}},e.target&&(n.src=e.target.result,a.current&&(a.current.style.backgroundImage="url(".concat(e.target.result,")")))},e.readAsDataURL(n)}),[n,t,a]),Object(l.jsxs)("div",{id:"static-image",ref:a,children:[Object(l.jsx)(v,{setImageFile:i}),Object(l.jsx)("canvas",{ref:r,style:{display:"none"}})]})};n(19),n(20);var m=function(e){var t=e.setImageFile,n=e.imageFile,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){!n&&i.current&&(i.current.value="")}),[n,i]),Object(c.useRef)(null),Object(c.useRef)(null),Object(l.jsxs)("div",{className:"start-screen",children:[Object(l.jsx)("div",{className:"center-modal",onClick:function(){i.current&&i.current.click()},children:Object(l.jsx)("h1",{children:"Add a photo"})}),Object(l.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:function(e){var n=e.target.files;n&&n.length>0&&t(n[0])},style:{display:"none"}})]})},h=n(5),p=n.n(h)()();var x=function(){var e=Object(c.useState)(void 0),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(null),a=Object(s.a)(r,2),o=a[0],u=a[1];Object(c.useEffect)((function(){return p.loadModel("/model/signature.json","/model/model.json"),function(){p.disposeModel()}}),[]);var j=Object(c.useCallback)((function(e){var t=e.getContext("2d");if(t){var n=t.getImageData(0,0,e.width,e.height);p.predict(n).then((function(e){e&&i(e.Confidences)}))}}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(b,{setImageFile:u,imageFile:o}),o?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O,{predictCanvas:j,image:o,setImageFile:u}),Object(l.jsx)(d,{predictions:n})]}):Object(l.jsx)(m,{setImageFile:u,imageFile:o})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),C()}],[[22,1,2]]]);
//# sourceMappingURL=main.9cc2eb69.chunk.js.map